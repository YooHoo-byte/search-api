<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Reference - Search API Documentation</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
</head>

<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <h1><i class="fas fa-code"></i> API Reference</h1>
                <p class="tagline">Search API Endpoints and Parameters</p>
            </div>
            <div class="version-badge">
                <span class="badge">v3.2.0</span>
                <a href="index.html" class="home-link" style="color: white; margin-top: 0.5rem; display: block;">
                    <i class="fas fa-arrow-left"></i> Back to Docs
                </a>
            </div>
        </header>

        <nav class="sidebar">
            <div class="nav-header">
                <h3><i class="fas fa-api"></i> API Endpoints</h3>
            </div>
            <ul class="nav-menu">
                <li><a href="#overview"><i class="fas fa-info-circle"></i> API Overview</a></li>
                <li><a href="#base-url"><i class="fas fa-link"></i> Base URL</a></li>
                <li><a href="#authentication"><i class="fas fa-key"></i> Authentication</a></li>
                <li><a href="#search-endpoint"><i class="fas fa-search"></i> Search Endpoint</a></li>
                <li><a href="#images-endpoint"><i class="fas fa-image"></i> Images Endpoint</a></li>
                <li><a href="#videos-endpoint"><i class="fas fa-video"></i> Videos Endpoint</a></li>
                <li><a href="#news-endpoint"><i class="fas fa-newspaper"></i> News Endpoint</a></li>
                <li><a href="#weather-endpoint"><i class="fas fa-cloud-sun"></i> Weather Endpoint</a></li>
                <li><a href="#system-endpoints"><i class="fas fa-cogs"></i> System Endpoints</a></li>
                <li><a href="#response-format"><i class="fas fa-reply"></i> Response Format</a></li>
                <li><a href="#error-handling"><i class="fas fa-exclamation-triangle"></i> Error Handling</a></li>
                <li><a href="#rate-limiting"><i class="fas fa-tachometer-alt"></i> Rate Limiting</a></li>
            </ul>

            <div class="nav-footer">
                <a href="index.html" class="github-btn">
                    <i class="fas fa-arrow-left"></i> Back to Main Docs
                </a>
            </div>
        </nav>

        <main class="content">
            <!-- Overview -->
            <section id="overview" class="section">
                <h2><i class="fas fa-info-circle"></i> API Overview</h2>
                <p>The Search API provides a RESTful interface for searching across multiple privacy-respecting search engines and content providers. All endpoints return JSON responses and support both GET and POST methods.</p>

                <div class="alert alert-info">
                    <i class="fas fa-lightbulb"></i>
                    <p><strong>Tip:</strong> All API responses include CORS headers, making them accessible from web applications.</p>
                </div>
            </section>

            <!-- Base URL -->
            <section id="base-url" class="section">
                <h2><i class="fas fa-link"></i> Base URL</h2>
                <p>All API endpoints are relative to the following base URL:</p>

                <div class="card">
                    <h3>Development</h3>
                    <pre><code class="language-http">http://localhost:3000</code></pre>
                </div>

                <div class="card">
                    <h3>Production</h3>
                    <pre><code class="language-http">https://api.yourdomain.com</code></pre>
                </div>

                <p>Replace <code>yourdomain.com</code> with your actual domain in production.</p>
            </section>

            <!-- Authentication -->
            <section id="authentication" class="section">
                <h2><i class="fas fa-key"></i> Authentication</h2>
                <p>The Search API currently supports two authentication methods:</p>

                <div class="feature-grid">
                    <div class="feature">
                        <h4><i class="fas fa-globe"></i> API Key</h4>
                        <p>Include your API key in the request headers:</p>
                        <pre><code class="language-http">Authorization: Bearer YOUR_API_KEY</code></pre>
                    </div>

                    <div class="feature">
                        <h4><i class="fas fa-user-secret"></i> IP Whitelisting</h4>
                        <p>Configure allowed IP addresses in your server settings. Requests from non-whitelisted IPs will be rejected.</p>
                    </div>
                </div>

                <div class="alert alert-info">
                    <i class="fas fa-info-circle"></i>
                    <p>In development mode, authentication is disabled. Enable it in production by setting <code>REQUIRE_AUTH=true</code> in your environment variables.</p>
                </div>
            </section>

            <!-- Search Endpoint -->
            <section id="search-endpoint" class="section">
                <h2><i class="fas fa-search"></i> Search Endpoint</h2>
                <p>Perform web searches across multiple privacy-focused search engines.</p>

                <div class="card">
                    <h3>Endpoint</h3>
                    <pre><code class="language-http">GET /search
POST /search</code></pre>
                </div>

                <h3>Parameters</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Required</th>
                                <th>Default</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>q</code></td>
                                <td>string</td>
                                <td>Yes</td>
                                <td>-</td>
                                <td>Search query</td>
                            </tr>
                            <tr>
                                <td><code>page</code></td>
                                <td>integer</td>
                                <td>No</td>
                                <td>1</td>
                                <td>Page number (1-5)</td>
                            </tr>
                            <tr>
                                <td><code>safe</code></td>
                                <td>string</td>
                                <td>No</td>
                                <td>moderate</td>
                                <td>Safe search: <code>off</code>, <code>moderate</code>, <code>strict</code></td>
                            </tr>
                            <tr>
                                <td><code>type</code></td>
                                <td>string</td>
                                <td>No</td>
                                <td>web</td>
                                <td><code>web</code>, <code>images</code>, <code>videos</code>, <code>news</code>, <code>all</code></td>
                            </tr>
                            <tr>
                                <td><code>limit</code></td>
                                <td>integer</td>
                                <td>No</td>
                                <td>100</td>
                                <td>Results per page (max 500)</td>
                            </tr>
                            <tr>
                                <td><code>region</code></td>
                                <td>string</td>
                                <td>No</td>
                                <td>wt-wt</td>
                                <td>Region code for localized results</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Example Request</h3>
                <pre><code class="language-bash">curl "http://localhost:3000/search?q=privacy+technology&page=1&safe=strict&limit=50"</code></pre>

                <h3>Example Response</h3>
                <pre><code class="language-json">{
  "success": true,
  "data": {
    "query": "privacy technology",
    "page": 1,
    "total_pages": 5,
    "total_results": 500,
    "safe_search": "strict",
    "type": "web",
    "results": [
      {
        "title": "Privacy Technologies - Comprehensive Guide",
        "url": "https://example.com/privacy-tech",
        "description": "A complete guide to privacy-enhancing technologies...",
        "source": "DuckDuckGo",
        "domain": "example.com",
        "favicon": "https://example.com/favicon.ico",
        "position": 1,
        "timestamp": "2025-12-24T10:30:00.000Z"
      }
      // More results...
    ]
  },
  "metadata": {
    "processing_time": 245,
    "cache_status": "hit",
    "sources_used": ["DuckDuckGo", "StartPage"],
    "safe_search_applied": true
  }
}</code></pre>
            </section>

            <!-- Images Endpoint -->
            <section id="images-endpoint" class="section">
                <h2><i class="fas fa-image"></i> Images Endpoint</h2>
                <p>Search for images across privacy-respecting image sources.</p>

                <div class="card">
                    <h3>Endpoint</h3>
                    <pre><code class="language-http">GET /images</code></pre>
                </div>

                <h3>Parameters</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Required</th>
                                <th>Default</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>q</code></td>
                                <td>string</td>
                                <td>Yes</td>
                                <td>-</td>
                                <td>Search query</td>
                            </tr>
                            <tr>
                                <td><code>page</code></td>
                                <td>integer</td>
                                <td>No</td>
                                <td>1</td>
                                <td>Page number</td>
                            </tr>
                            <tr>
                                <td><code>safe</code></td>
                                <td>string</td>
                                <td>No</td>
                                <td>moderate</td>
                                <td>Safe search level</td>
                            </tr>
                            <tr>
                                <td><code>size</code></td>
                                <td>string</td>
                                <td>No</td>
                                <td>all</td>
                                <td><code>small</code>, <code>medium</code>, <code>large</code>, <code>all</code></td>
                            </tr>
                            <tr>
                                <td><code>color</code></td>
                                <td>string</td>
                                <td>No</td>
                                <td>all</td>
                                <td><code>color</code>, <code>bw</code>, <code>transparent</code></td>
                            </tr>
                            <tr>
                                <td><code>format</code></td>
                                <td>string</td>
                                <td>No</td>
                                <td>all</td>
                                <td><code>jpg</code>, <code>png</code>, <code>gif</code>, <code>all</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Example Request</h3>
                <pre><code class="language-bash">curl "http://localhost:3000/images?q=nature+landscape&size=large&color=color"</code></pre>
            </section>

            <!-- Continue with other endpoints... -->

            <div class="alert alert-info">
                <i class="fas fa-book"></i>
                <p><strong>Note:</strong> For complete endpoint documentation including Videos, News, Weather, and System endpoints, please refer to the full documentation in the repository.</p>
            </div>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="scripts.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>

</html>